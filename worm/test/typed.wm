'''#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
double pow(double, int64_t);
void main(){
printf("%f\\n", pow(1.5, 4));
}
double pow(double a, int64_t n){
double result = 1.0;
double partial = a;
while(((n > 0))){
if((((n % 2) == 1))){
result = (result * partial);
} else {

}
partial = (partial * partial);
n = (n // 2);
}
return result;
}'''

from worm import new_prog, worm

prog = new_prog()


@worm(prog)
def pow(a: float, n: int) -> float:
    result: float = 1.0
    partial: float = a
    while n > 0:
        if n % 2 == 1:
            result = result * partial
        partial = partial * partial
        n = n // 2
    return result


@worm.entry(prog)
def main():
    printf("%f\n", pow(1.5, 4))  # print 5.062500
